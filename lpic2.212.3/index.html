
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Sue B.V., The Netherlands">
      
      
      
        <link rel="prev" href="../lpic2.212.2/">
      
      
        <link rel="next" href="../lpic2.212.4/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Secure shell (SSH) (212.3) - The LPIC2 Exam Prep</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CAnonymous+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito";--md-code-font:"Anonymous Pro"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#secure-shell-ssh-2123" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The LPIC2 Exam Prep" class="md-header__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The LPIC2 Exam Prep
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Secure shell (SSH) (212.3)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The LPIC2 Exam Prep" class="md-nav__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    The LPIC2 Exam Prep
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The LPIC2 Exam Prep
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpicbook_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About this book
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    200 Capacity Planning (200)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Measure and Troubleshoot Resource Usage (200.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predict Future Resource Needs (200.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux Kernel (201)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel Components (201.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiling a Linux kernel (201.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel runtime management and troubleshooting (201.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Startup (202)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customizing system startup (202.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System recovery (202.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternate Bootloaders (202.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filesystem and Devices (203)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operating The Linux Filesystem (203.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintaining a Linux Filesystem (203.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating And Configuring Filesystem Options (203.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Storage Device Administration (204)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring RAID (204.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adjusting Storage Device Access (204.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logical Volume Manager (204.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring PCMCIA Devices (204.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Networking Configuration (205)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Networking Configuration (205.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Network Configuration and Troubleshooting (205.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting network issues (205.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Maintenance (206)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make and install programs from source (206.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup Operations (206.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notifying users on system-related issues (206.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain Name Server (207)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic DNS server configuration (207.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create and maintain DNS zones (207.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Securing a DNS Server (207.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Services (208)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Apache Configuration (208.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apache configuration for HTTPS (208.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Squid as a caching proxy (208.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Nginx as a web server and a reverse proxy (208.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Sharing (209)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SAMBA Server Configuration (209.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an NFS Server (209.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Client Management (210)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DHCP Configuration (210.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PAM authentication (210.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP client usage (210.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an OpenLDAP server (210.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    E-Mail services (211)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using e-mail servers (211.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing E-Mail Delivery (211.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing Mailbox Access (211.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Security (212)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring a router (212.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing FTP servers (212.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Secure shell (SSH) (212.3)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Secure shell (SSH) (212.3)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#secure-shell-ssh-2123" class="md-nav__link">
    <span class="md-ellipsis">
      Secure shell (SSH) (212.3)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and utilities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-client-and-server" class="md-nav__link">
    <span class="md-ellipsis">
      SSH client and server
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH client and server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-keys-public-and-private" class="md-nav__link">
    <span class="md-ellipsis">
      User keys, public and private
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-sshd" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring sshd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring sshd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow-or-deny-root-logins" class="md-nav__link">
    <span class="md-ellipsis">
      Allow or deny root logins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-or-deny-non-root-logins" class="md-nav__link">
    <span class="md-ellipsis">
      Allow or deny non-root logins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqsshenablex" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling or disabling X forwarding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passwordless-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Passwordless authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-agent-forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      Enable agent forwarding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-session" class="md-nav__link">
    <span class="md-ellipsis">
      Login session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-x-sessions-with-ssh-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling X-sessions with ssh-agent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tunneling-an-application-protocol-over-ssh-with-portmapping" class="md-nav__link">
    <span class="md-ellipsis">
      Tunneling an application protocol over ssh with portmapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunneling an application protocol over ssh with portmapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security tasks (212.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenVPN (212.5)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#secure-shell-ssh-2123" class="md-nav__link">
    <span class="md-ellipsis">
      Secure shell (SSH) (212.3)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and utilities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-client-and-server" class="md-nav__link">
    <span class="md-ellipsis">
      SSH client and server
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH client and server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-keys-public-and-private" class="md-nav__link">
    <span class="md-ellipsis">
      User keys, public and private
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-sshd" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring sshd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring sshd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow-or-deny-root-logins" class="md-nav__link">
    <span class="md-ellipsis">
      Allow or deny root logins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-or-deny-non-root-logins" class="md-nav__link">
    <span class="md-ellipsis">
      Allow or deny non-root logins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqsshenablex" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling or disabling X forwarding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passwordless-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Passwordless authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-agent-forwarding" class="md-nav__link">
    <span class="md-ellipsis">
      Enable agent forwarding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-session" class="md-nav__link">
    <span class="md-ellipsis">
      Login session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-x-sessions-with-ssh-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling X-sessions with ssh-agent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tunneling-an-application-protocol-over-ssh-with-portmapping" class="md-nav__link">
    <span class="md-ellipsis">
      Tunneling an application protocol over ssh with portmapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tunneling an application protocol over ssh with portmapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Secure shell (SSH) (212.3)</h1>

<h2 id="secure-shell-ssh-2123">Secure shell (SSH) (212.3)<a class="headerlink" href="#secure-shell-ssh-2123" title="Permanent link">&para;</a></h2>
<p>Candidates should be able to configure and secure an SSH daemon. This
objective includes managing keys and configuring SSH for users.
Candidates should also be able to forward an application protocol over
SSH and manage the SSH login.</p>
<h2 id="key-knowledge-areas">Key Knowledge Areas<a class="headerlink" href="#key-knowledge-areas" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>OpenSSH configuration files, tools and utilities</p>
</li>
<li>
<p>Login restrictions for the superuser and the normal users</p>
</li>
<li>
<p>Managing and using server and client keys to login with and without
password</p>
</li>
<li>
<p>Usage of multiple connections from multiple hosts to guard against loss
of connection to remote host following configuration changes</p>
</li>
</ul>
<h2 id="terms-and-utilities">Terms and utilities<a class="headerlink" href="#terms-and-utilities" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><code>ssh</code></p>
</li>
<li>
<p><code>sshd</code></p>
</li>
<li>
<p><code>/etc/ssh/sshd_config</code></p>
</li>
<li>
<p><code>/etc/ssh/</code></p>
</li>
<li>
<p>Private and public key files</p>
</li>
<li>
<p>PermitRootLogin, PubkeyAuthentication, AllowUsers,
    PasswordAuthentication, Protocol</p>
</li>
</ul>
<h2 id="ssh-client-and-server">SSH client and server<a class="headerlink" href="#ssh-client-and-server" title="Permanent link">&para;</a></h2>
<p><code>ssh</code> is a client program for logging into a remote ssh sshd machine and
for executing commands on a remote machine.</p>
<p><code>sshd</code> is the server (daemon) program for ssh.</p>
<p>Together these two programs replace <code>rlogin</code> and <code>rsh</code>, providing secure
encrypted communications between two untrusted hosts on an insecure
network.</p>
<p>To copy files over an insecure network the <code>scp</code> command can be used.
Scp stands for Secure CoPy. It uses <code>ssh</code> for scp data transfer.</p>
<p>SSH (Secure SHell) uses digital keys for both data encryption and
authentication.</p>
<p>Keys and their purpose</p>
<p>Two types of keys are used: <em>host</em> and <em>user</em> ones. These will be
discussed in the next paragraphs. sshkeys</p>
<h3 id="host-keys">Host keys<a class="headerlink" href="#host-keys" title="Permanent link">&para;</a></h3>
<p>There is a slight difference between the SSH protocol versions 1 and 2
in socalled forward security. sshHost Keys</p>
<p>SSH protocol version 1</p>
<ul>
<li>
<p>This version only supports RSA keys. Each node has a <em>host</em> key
    (normally 2048 bits) sshprotocol version 1 to identify it. When the
    daemon is started, an additional <em>server</em> key (normally 768 bits) is
    generated. RSA-key sshRSA It is not stored on disk and recreated
    every hour when used.</p>
<p>When a client connects, the server daemon responds with its public
host and server keys. The client compares the RSA host key against
its own database to verify that it has not changed. The client then
generates a 256 bit random number. It encrypts this random number
using both the host and server keys, and sends the encrypted number
to the server. Both sides then use this random number as a key that
is used to encrypt all further communications in the session. The
rest of the session is encrypted using a conventional cipher,
currently Blowfish or 3DES, with 3DES being used by sshBlowfish
default. The client selects the encryption algorithm from those
offered by the server.</p>
</li>
</ul>
<p>SSH protocol version 2</p>
<ul>
<li>
<p>This protocol version is the default and it supports DSA, ECDSA and
    RSA keysssh. Forward security is provided through a Diffie-Hellman
    key agreement. This key agreement results in a shared session key.</p>
<p>The rest of the session is encrypted using a symmetric cipher,
currently 128-bit AES, Blowfish, 3DES, CAST128, Arcfour, 192-bit AES
or 256-bit AES. The client selects the encryption algorithm to use
from those offered by the server. Additionally, session integrity is
provided through a cryptographic message authentication code (
hmac-md5, hmac-sha1, umac-64, umac-128, hmac-ripemd160,
hmac-sha2-256 or hmac-sha2-512).</p>
</li>
</ul>
<p>Finally, in both versions of the protocol, the server and the client
enter an authentication dialog. The client tries to authenticate itself
using host-based authentication, public key authentication,
challange-response authentication, or password authentication. If
possible, select SSH protocol version 2 as the only one to use.</p>
<h3 id="user-keys-public-and-private">User keys, public and private<a class="headerlink" href="#user-keys-public-and-private" title="Permanent link">&para;</a></h3>
<p><code>ssh</code> implements the RSA authentication mechanism sshUser Keys
automatically. The user creates an RSA key pair by running <code>ssh-keygen</code>.
This stores the private key in ssh-keygen <code>$HOME/.ssh/id_rsa</code> and the
public key in sshid_rsa sshid_rsa.pub <code>$HOME/.ssh/id_rsa.pub</code> in the
user's home directory. The user should then copy the id_rsa.pub into
the <code>$HOME/.ssh/authorized_keys</code> file in his home sshauthorized_keys
directory on the remote machine:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # cat id_rsa.pub &gt;&gt; ˜/.ssh/authorized_keys
</code></pre></div></td></tr></table></div>

<p>The <code>authorized_keys file</code> has only one key per line which can be very
long. After this, the user can log in without giving the password.
Instead of using rsa, dsa can also be used. The names of the keys
reflect the kind of keys you created. Make sure the ˜/.ssh directory and
the files in it have the proper rights. Use for example 700 on the .ssh
directory and 600 on the files in it. If you don't, in some situations
you can't login using digital keys.</p>
<h3 id="configuring-sshd">Configuring <code>sshd</code><a class="headerlink" href="#configuring-sshd" title="Permanent link">&para;</a></h3>
<p>Configuring <code>sshd</code> can be done by using command-line options or by
editing the sshconfigure sshd sshsshd_config sshd_config configuration
file <code>/etc/ssh/sshd_config</code>.</p>
<p>-4</p>
<ul>
<li>Forces sshd to use IPv4 addresses only.</li>
</ul>
<p>-6</p>
<ul>
<li>Forces sshd to use IPv6 addresses only.</li>
</ul>
<p>-b <em>bits</em></p>
<ul>
<li>Specifies the number of bits in the ephemeral protocol version 1
    server key (default 1024).</li>
</ul>
<p>-C <em>connection_spec</em></p>
<ul>
<li>Specify the connection parameters to use for the -T extended test
    mode.</li>
</ul>
<p>-D</p>
<ul>
<li>When this option is specified, <code>sshd</code> will not detach and does not
    become a daemon. This allows easy monitoring of sshd.</li>
</ul>
<p>-d <em>Debug Mode</em></p>
<ul>
<li>The server sends verbose debug output to the system log, and does
    not put itself in the background.</li>
</ul>
<p>-e</p>
<ul>
<li>When this option is specified, sshd will send the output to the
    standard error instead of the system log.</li>
</ul>
<p>-f <em>config_file</em></p>
<ul>
<li>Specifies the name of the configuration file. The default is
    /etc/ssh/sshd_config. sshd refuses to start if there is no
    configuration file.</li>
</ul>
<p>-g <em>login_grace_time</em></p>
<ul>
<li>Gives the grace time for clients to authenticate themselves (default
    120 seconds).</li>
</ul>
<p>-h <em>host_key_file</em></p>
<ul>
<li>Specifies a file from which a host key is read.</li>
</ul>
<p>-i</p>
<ul>
<li>Specifies that sshd is being run from <code>inetd</code>. sshd is normally not
    run from inetd because it needs to generate the server key before it
    can respond to the client, and this may take tens of seconds.</li>
</ul>
<p>-k <em>key_gen_time</em></p>
<ul>
<li>Specifies how often the ephemeral protocol version 1 server key is
    regenerated (default 3600 seconds, or one hour).</li>
</ul>
<p>-o <em>option</em></p>
<ul>
<li>Can be used to give options in the format used in the configuration
    file. This is useful for specifying options for which there is no
    separate command-line flag.</li>
</ul>
<p>-p <em>port</em></p>
<ul>
<li>Specifies the port on which the server listens for connections
    (default 22). Multiple port options are permitted.</li>
</ul>
<p>-q</p>
<ul>
<li>Quiet mode. Nothing is sent to the system log. Normally the
    beginning, authentication, and termination of each connection is
    logged.</li>
</ul>
<p>-T</p>
<ul>
<li>Extended test mode. Check the validity of the configuration file,
    output the effective configuration to stdout and then exit.</li>
</ul>
<p>-t</p>
<ul>
<li>Test mode. Only check the validity of the configuration file and
    sanity of the keys. This is useful for updating sshd reliably as
    configuration options may change.</li>
</ul>
<p>-u <em>len</em></p>
<ul>
<li>This option is used to specify the size of the field in the utmp
    structure that holds the remote host name.</li>
</ul>
<p>The sshd configrations file in the <code>/etc/ssh/sshd_config</code> directory can
also be used to configure sshd. This file should be writable by root
only, but it is recommended (though not necessary) that it is
world-readable.</p>
<h4 id="allow-or-deny-root-logins">Allow or deny root logins<a class="headerlink" href="#allow-or-deny-root-logins" title="Permanent link">&para;</a></h4>
<p>The allowing or denying of root logins is done by setting the keyword
<em>PermitRootLogin</em> in the configuration file to the appropriate value. To
make it more difficult for someone to gain full access, you shouldn't
allow root logins. Without the possibility of remote root access someone
who wants to get root access on a remote server has to get access via a
regular user first. Which is an additional layer of security.</p>
<p>yes</p>
<ul>
<li>This is the default. When set to yes, root can login using
    sshPermitRootLogin <code>ssh</code>.</li>
</ul>
<p>no</p>
<ul>
<li>When set to no, root cannot login using <code>ssh</code>.</li>
</ul>
<p>without-password</p>
<ul>
<li>This means that password authentication is disabled for root.</li>
</ul>
<p>forced-commands-only</p>
<ul>
<li>This means that root can only use <code>ssh</code> to login to the system with
    public key authentication and execute the commands that are given on
    the command line. The allowed command(s) must be added to the public
    key(s) in the <code>~/.ssh/authorized_keys</code> file. For example, if you add
    <em>command=\"/bin/date\"</em> at the beginning of your public key line on
    SERVERA, only the date command will be allowed for a login using
    that public key. If you execute <code>ssh root@SERVERA</code> then only the
    date command will be executed on the remote system. (This may be
    useful for taking remote backups even if root login is normally not
    allowed.) Please read the man pages for more information.</li>
</ul>
<h4 id="allow-or-deny-non-root-logins">Allow or deny non-root logins<a class="headerlink" href="#allow-or-deny-non-root-logins" title="Permanent link">&para;</a></h4>
<p>There are a number of keywords that can be used to influence the
behaviour of <code>sshd</code> in relation to logins.</p>
<p>AllowUsers</p>
<ul>
<li>This keyword is followed by a list of user names, separated
    sshAllowUsers by spaces. Login is allowed only for usernames that
    match one of the patterns. You can use "*" and "?" as wildcards in
    the patterns.</li>
</ul>
<p>DenyUsers</p>
<ul>
<li>This keyword is followed by a list of user names, separated
    sshDenyUsers by spaces. User names that match one of the patterns
    cannot login. You can use "*" and "?" as wildcards in the patterns.</li>
</ul>
<p>AllowGroups</p>
<ul>
<li>This keyword is followed by a list of group names, separated
    sshAllowGroups by spaces. Login is allowed only for users who are a
    member of one or more groups that match one of the patterns. You can
    use "*" and "?" as wildcards in the patterns.</li>
</ul>
<p>DenyGroups</p>
<ul>
<li>This keyword is followed by a list of group names, separated
    sshDenyGroups by spaces. Login is not allowed for users who are a
    member of one or more groups that match one of the patterns. You can
    use "*" and "?" as wildcards in the patterns.</li>
</ul>
<p>PasswordAuthentication</p>
<ul>
<li>sshPasswordAuthentication Specifies whether password authentication
    is allowed. The default is \"yes\".</li>
</ul>
<p>Protocol</p>
<ul>
<li>sshProtocol Specifies the protocol versions sshd supports. The
    possible values are \"1\" and \"2\". Multiple versions must be
    comma-separated. The default is \"2,1\". Note that the order of the
    protocol list does not indicate preference, because the client
    selects among multiple protocol versions offered by the server.
    Specifying \"2,1\" is identical to \"1,2\". Unless there are serious
    arguments for using protocol version \"1\", only use version \"2\"
    because it is far more secure.</li>
</ul>
<p>UsePAM</p>
<ul>
<li>Enables the Pluggable Authentication Modules interface. If set to
    "yes" it will enable PAM authentication using
    <em>ChallengeResponseAuthentication</em> and <em>PasswordAuthentication</em> in
    addition to PAM account and session module processing for all
    authentication types. The default is "yes".</li>
</ul>
<p>ChallengeResponseAuthentication</p>
<ul>
<li>Specifies whether challenge-response authentication is allowed
    (e.g., via PAM or through authentication styles supported in
    login.conf(5)). The default is "yes".</li>
</ul>
<p>If you want to fully disable password based logins, the following
<code>sshd_config</code> settings should be set to no:</p>
<ul>
<li>
<p>PasswordAuthentication</p>
</li>
<li>
<p>ChallengeResponseAuthentication</p>
</li>
<li>
<p>UsePAM</p>
</li>
</ul>
<h4 id="sqsshenablex">Enabling or disabling X forwarding<a class="headerlink" href="#sqsshenablex" title="Permanent link">&para;</a></h4>
<p>This topic stays here to give you some information about this topic but
it isn't anymore in the Key Knowledge Areas of lpi.org.</p>
<p>There are a number of keywords that can be used to influence the
behaviour of <code>sshd</code> in relation to the X Windows sshThe X Window System
system.</p>
<p>X11Forwarding</p>
<ul>
<li>X11 forwarding is a mechanism where the program runs on one
    sshX11Forwarding machine and the X Windows output is shown on
    another machine. The command <code>ssh -X
                                remote</code> will set the <code>DISPLAY</code> in the
    server-shell to <code>localhost:num:0</code> which is actually the
    tunnel-endpoint which is mapped back to the original <code>DISPLAY</code> in
    the client context. This tunnel is secured using ssh. X11Forwarding
    can be set to yes or no. The default is no.</li>
</ul>
<p>X11DisplayOffset</p>
<ul>
<li>This specifies the first display number that is available for the
    X11 forwarding of <code>sshd</code>. This prevents sshX11DisplayOffset <code>sshd</code>
    from interfering with real servers. The default is 10.</li>
</ul>
<p>XAuthLocation</p>
<ul>
<li>This specifies the fully qualified location of the <code>xauth</code> command.
    The default location is sshXAuthLocation <code>/usr/bin/X11/xauth</code>.
    <code>xauth</code> is used to edit and display the authorization information
    used in connecting to the X server.</li>
</ul>
<p>If you connect to machine B from machine A using
<code>ssh your_account@machineB</code> and start an <code>xterm</code> for instance, the
process will run on machine B and the X output will be transferred
through the SSH tunnel to machine A. To display the terminal, machine B
will connect to the display on localhost that's opened by SSH for X11
Forwarding. SSH will forward the X-connection to X server on machine A
where it will be displayed in your local display. Because the X output
is seemingly created locally no xhost settings have to be changed to
enable displaying the content.</p>
<p>To enable X11 forwarding this also has to be enabled on the client side.
ForwardX11 has to be set to \"yes\" in the SSH configuration on the
client, or on the command line when initiating the connection.</p>
<h4 id="passwordless-authentication">Passwordless authentication<a class="headerlink" href="#passwordless-authentication" title="Permanent link">&para;</a></h4>
<p>Using SSH there are different ways for authentication.
One way to do this is by using a public/private keypair for
authentication. If public key authentication is enabled users can login
without having to use a password. When trying to authenticate with a
keypair the user will be asked for the passphrase (or ssh_agent will be
queried). Also, passphraseless keys can be used (e.g., for automated
sessions).</p>
<p>Note on using passphraseless keys: because no passphrase is needed to
use a passphraseless key, anyone who has access to the key can use it.
This poses a serious security risk. The impact of connections with
passphraseless keys should be reduced by allowing these connections only
with forced commands and preferably from a limited set of clients, (see
man authorized_keys).</p>
<p>PubkeyAuthentication</p>
<ul>
<li>sshPubkeyAuthentication This parameter specifies whether public key
    authentication is allowed. The default is \"yes\". Note that this
    option applies to protocol version 2 only.</li>
</ul>
<p><code>ssh-agent</code></p>
<p>This objective was moved to LPIC-1.</p>
<p><code>ssh-agent</code> is a program to hold private keys used for sshssh-agent
public-key authentication (RSA, DSA). The idea is that <code>ssh-agent</code> is
started in the beginning of an X-session or a login session, and all
other windows or programs are started as clients to the <code>ssh-agent</code>
program. Through the use of environment variables the agent can be
located and automatically used when logging in to other machines with
<code>ssh</code>.</p>
<h4 id="enable-agent-forwarding">Enable agent forwarding<a class="headerlink" href="#enable-agent-forwarding" title="Permanent link">&para;</a></h4>
<p>sshForwardAgent In <code>ssh_config</code> (system wide or in <code>$HOME/.ssh/config</code>)
set <em>ForwardAgent</em> to \"yes\".</p>
<h4 id="login-session">Login session<a class="headerlink" href="#login-session" title="Permanent link">&para;</a></h4>
<p>Add the following two lines to your <code>$HOME/.bash_profile</code> file or
equivalent sshssh-add (depending on the shell you are using) to be able
to login without having to type your password each time:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>    eval `ssh-agent`
    ssh-add
</code></pre></div></td></tr></table></div>

<p>The <code>eval `ssh-agent`</code> sets a number of environment variables. In
fact, <code>ssh-agent</code> returns the strings needed to set them and <code>eval</code> sees
to it that they get set.</p>
<p>The <code>ssh-add</code> command without parameters reads the contents of the file
<code>$HOME/.ssh/id_rsa</code> (or id_dsa) which contains the private key, as
described earlier. You will be prompted to enter your passphrase, if
necessary.</p>
<p>When the user logs out from the system, the program <code>ssh-agent</code> must be
terminated. To see to it that this happens automatically, add the
following line to your <code>.bash_logout</code> file or equivalent, depending on
the shell you are using:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    ssh-agent -k
</code></pre></div></td></tr></table></div>

<p>The process id of of the current agent is determined by examining the
contents of the environment variable $SSH_AGENT_PID, which has been
sshSSH_AGENT_PID set by the <code>eval `ssh-agent`</code> command.</p>
<h3 id="enabling-x-sessions-with-ssh-agent">Enabling X-sessions with ssh-agent<a class="headerlink" href="#enabling-x-sessions-with-ssh-agent" title="Permanent link">&para;</a></h3>
<p>There are several ways to do this, depending on how X is started and
sshX Sessions which display manager you are using.</p>
<p>If you start X from the command line with <code>startx</code>, you can type
<code>ssh-agent startx</code>, open a terminal window in X and type <code>ssh-add</code>,
which will prompt you for the passphrase and load your keys.</p>
<h2 id="tunneling-an-application-protocol-over-ssh-with-portmapping">Tunneling an application protocol over ssh with portmapping<a class="headerlink" href="#tunneling-an-application-protocol-over-ssh-with-portmapping" title="Permanent link">&para;</a></h2>
<h3 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h3>
<p>Using port forwarding,
SSH will bind to a port and tunnel all traffic directed at that port
through the SSH connection. Traffic is forwarded to the host at the
other end of the SSH connection. The remote host may be the server on
which the SSH connection terminates, but traffic can also be forwarded
to another host. Port forwarding can be configured in both directions:
local to remote, but also remote to local.</p>
<p>The syntax is:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="o">|</span><span class="n">L</span><span class="w"> </span><span class="o">[</span><span class="n">bind_address:</span><span class="o">]</span><span class="nl">port</span><span class="p">:</span><span class="k">host</span><span class="err">:</span><span class="n">host_port</span><span class="w"> </span><span class="o">[</span><span class="n">user@</span><span class="o">]</span><span class="n">hostname</span><span class="w"> </span><span class="o">[</span><span class="n">command</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>

<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<p>As an example (example 1), consider the situation shown in the picture.
We are working on MyMachine, and we want to connect to the mysql server
on Machine 1. The firewall doesn't allow sql connections. The firewall
has port forwarding configured so that incoming traffic on port 22 from
the internet will be forwarded to port 22 on Machine1. John is an user
on Machine1. </p>
<p><img alt="" src="../images/212-SSHPFW.dot.svg.jpg" /></p>
<p>First open the tunnel by running <code>ssh</code> with the \"-L\"
option:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">MyMachine</span><span class="err">#</span><span class="w"> </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">L</span><span class="w"> </span><span class="mi">13306</span><span class="o">:</span><span class="n">localhost</span><span class="o">:</span><span class="mi">3306</span><span class="w"> </span><span class="n">john</span><span class="mf">@101.102.103.104</span>
</code></pre></div></td></tr></table></div>

<p>Then run your application, connecting to the local port that is
forwarded by the SSH tunnel:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    MyMachine# mysql -P 13306
</code></pre></div></td></tr></table></div>

<p>You are now connected to the remote MySQL server without the need to
enable SQL connections over the network.</p>
<p>Another example (example 2) would be where one side of the connection
wants/needs to initialize the SSH connection to enable the remote party
to connect back through the tunnel. In this simplified example an ssh
tunnel is started on Machine1 to machine2 with the <code>-R</code>. Then the sql
client on machine2 can connect on localhost:13306 and gets a connection
with the mysql server on port 3306 through the SSH tunnel. </p>
<p><img alt="" src="../images/212-SSHRPFW.dot.svg.jpg" /></p>
<p>The tunnel
will stay open as long as the SSH session is running or as long as there
is a tunneled session going through it. This means there are two ways of
working with SSH tunneling:</p>
<ul>
<li>
<p>open an SSH session with port forwarding and keep it open for as
    long as you need it. This is useful if you want to be able to
    reconnect through the tunnel without the need to open a new SSH
    session. Useful for connecting to a remote host and initializing a
    tunnel in the reversed direction (example 2).</p>
</li>
<li>
<p>open an SSH connection with port forwarding in the background and
    keep it open just long enough to be able to initialize the
    connection through the tunnel. (\"ssh -f -L \&lt;your:port:definition&gt;
    remote_user\@remote_host sleep 10 ; \&lt;your application&gt;\").</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 1997-2021 Sue B.V., The Netherlands - Open Sourced 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "tabs", "instant"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>