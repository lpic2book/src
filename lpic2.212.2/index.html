
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Sue B.V., The Netherlands">
      
      
      
        <link rel="prev" href="../lpic2.212.1/">
      
      
        <link rel="next" href="../lpic2.212.3/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Managing FTP servers (212.2) - The LPIC2 Exam Prep</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CAnonymous+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito";--md-code-font:"Anonymous Pro"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#managing-ftp-servers-2122" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The LPIC2 Exam Prep" class="md-header__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The LPIC2 Exam Prep
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Managing FTP servers (212.2)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The LPIC2 Exam Prep" class="md-nav__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    The LPIC2 Exam Prep
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The LPIC2 Exam Prep
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpicbook_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About this book
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    200 Capacity Planning (200)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Measure and Troubleshoot Resource Usage (200.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predict Future Resource Needs (200.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux Kernel (201)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel Components (201.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiling a Linux kernel (201.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel runtime management and troubleshooting (201.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Startup (202)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customizing system startup (202.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System recovery (202.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternate Bootloaders (202.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filesystem and Devices (203)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operating The Linux Filesystem (203.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintaining a Linux Filesystem (203.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating And Configuring Filesystem Options (203.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Storage Device Administration (204)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring RAID (204.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adjusting Storage Device Access (204.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logical Volume Manager (204.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring PCMCIA Devices (204.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Networking Configuration (205)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Networking Configuration (205.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Network Configuration and Troubleshooting (205.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting network issues (205.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Maintenance (206)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make and install programs from source (206.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup Operations (206.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notifying users on system-related issues (206.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain Name Server (207)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic DNS server configuration (207.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create and maintain DNS zones (207.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Securing a DNS Server (207.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Services (208)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Apache Configuration (208.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apache configuration for HTTPS (208.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Squid as a caching proxy (208.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Nginx as a web server and a reverse proxy (208.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Sharing (209)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SAMBA Server Configuration (209.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an NFS Server (209.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Client Management (210)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DHCP Configuration (210.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PAM authentication (210.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP client usage (210.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an OpenLDAP server (210.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    E-Mail services (211)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using e-mail servers (211.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing E-Mail Delivery (211.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing Mailbox Access (211.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Security (212)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring a router (212.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Managing FTP servers (212.2)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Managing FTP servers (212.2)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#managing-ftp-servers-2122" class="md-nav__link">
    <span class="md-ellipsis">
      Managing FTP servers (212.2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing FTP servers (212.2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftp-connection-modes" class="md-nav__link">
    <span class="md-ellipsis">
      FTP connection modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FTP connection modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Active mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Passive mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling-connections-through-a-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling connections through a firewall
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enabling connections through a firewall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vsftpd" class="md-nav__link">
    <span class="md-ellipsis">
      vsftpd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vsftpd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-minimal-configuration-for-anonymous-up-and-downloads" class="md-nav__link">
    <span class="md-ellipsis">
      Example minimal configuration for anonymous up- and downloads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pure-ftpd" class="md-nav__link">
    <span class="md-ellipsis">
      Pure-FTPd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pure-FTPd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-command-line-options" class="md-nav__link">
    <span class="md-ellipsis">
      Important command line options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-minimal-configuration-for-anonymous-up-and-downloads_1" class="md-nav__link">
    <span class="md-ellipsis">
      Example minimal configuration for anonymous up- and downloads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-ftp-servers" class="md-nav__link">
    <span class="md-ellipsis">
      Other FTP servers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other FTP servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proftpd" class="md-nav__link">
    <span class="md-ellipsis">
      ProFTPd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secure shell (SSH) (212.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security tasks (212.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenVPN (212.5)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#managing-ftp-servers-2122" class="md-nav__link">
    <span class="md-ellipsis">
      Managing FTP servers (212.2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing FTP servers (212.2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftp-connection-modes" class="md-nav__link">
    <span class="md-ellipsis">
      FTP connection modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FTP connection modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Active mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passive-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Passive mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling-connections-through-a-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling connections through a firewall
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enabling connections through a firewall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vsftpd" class="md-nav__link">
    <span class="md-ellipsis">
      vsftpd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vsftpd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-minimal-configuration-for-anonymous-up-and-downloads" class="md-nav__link">
    <span class="md-ellipsis">
      Example minimal configuration for anonymous up- and downloads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pure-ftpd" class="md-nav__link">
    <span class="md-ellipsis">
      Pure-FTPd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pure-FTPd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-command-line-options" class="md-nav__link">
    <span class="md-ellipsis">
      Important command line options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-minimal-configuration-for-anonymous-up-and-downloads_1" class="md-nav__link">
    <span class="md-ellipsis">
      Example minimal configuration for anonymous up- and downloads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-ftp-servers" class="md-nav__link">
    <span class="md-ellipsis">
      Other FTP servers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other FTP servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proftpd" class="md-nav__link">
    <span class="md-ellipsis">
      ProFTPd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Managing FTP servers (212.2)</h1>

<h2 id="managing-ftp-servers-2122">Managing FTP servers (212.2)<a class="headerlink" href="#managing-ftp-servers-2122" title="Permanent link">&para;</a></h2>
<p>Candidates should be able to configure an FTP server for anonymous
downloads and uploads. This objective includes configuring user access,
and precautions to be taken if anonymous uploads are permitted.</p>
<h3 id="key-knowledge-areas">Key Knowledge Areas<a class="headerlink" href="#key-knowledge-areas" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Configuration files, tools and utilities for Pure-FTPd and vsftpd</p>
</li>
<li>
<p>Awareness of ProFTPd</p>
</li>
<li>
<p>Understanding of passive vs. active FTP connections</p>
</li>
</ul>
<h3 id="terms-and-utilities">Terms and Utilities<a class="headerlink" href="#terms-and-utilities" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>vsftpd.conf</code></p>
</li>
<li>
<p>important Pure-FTPd command line options</p>
</li>
</ul>
<h2 id="ftp-connection-modes">FTP connection modes<a class="headerlink" href="#ftp-connection-modes" title="Permanent link">&para;</a></h2>
<p>FTP is a service that uses two ports for communication. Port 21 is used
for the command port (also known as control port) and port 20 for the
data port. FTP has two modes, <em>active</em> and <em>passive</em> FTP. These modes
differ in the way connections are initiated. In active mode the client
initates the control connection and the server initiates the data
connection. In passive mode the client initiates both connections.</p>
<h3 id="active-mode">Active mode<a class="headerlink" href="#active-mode" title="Permanent link">&para;</a></h3>
<p>In active mode the client starts an FTP session. This is done by
initiating a control connection originating on an unprivileged port
(&gt;1023) to port 21 on the server. The client sends the server the IP
address and port number on which the client will listen for the data
connection. Usually this port is the next port above the used control
connections port on the client. The server sends an ACK to the clients
command port and <em>actively</em> opens a data connection originating on port
20 to the client. The client sends back an ACK on the data connection.</p>
<p>Active mode example:</p>
<ul>
<li>
<p>The client opens up a command channel from client port 1050 to
    server port 21.</p>
</li>
<li>
<p>The client sends <em>PORT 1051</em> (1050 + 1) to the server and the server
    acknowledges on the command channel.</p>
</li>
<li>
<p>The server opens up a data channel from server port 20 to client
    port 1051.</p>
</li>
<li>
<p>The client acknowledges on the data channel.</p>
</li>
</ul>
<h3 id="passive-mode">Passive mode<a class="headerlink" href="#passive-mode" title="Permanent link">&para;</a></h3>
<p>In situations in which the client is behind a firewall and unable to
accept incoming TCP connections, passive mode may be used. In passive
mode the client starts an FTP session. This is done by initiating a
control connection originating on an unprivileged port (&gt;1023) to port
21 on the server. In this mode the client sends a PASV command to the
server and receives an IP address and port number in return. The server
replies with <em>PORT XXXX</em> where XXXX is the unprivileged port the server
listens for the data connection and <em>passively</em> waits for the data
connection. The client opens the data connection from the next port
above the control connections port to the port specified in the <code>PORT</code>
reply on the server. The server sends back an ACK to the client on the
data connection.</p>
<p>Passive mode example:</p>
<ul>
<li>
<p>Client opens up command channel from client port 1050 to server
    port 21.</p>
</li>
<li>
<p>Client sends <em>PASV</em> command to server on command channel.</p>
</li>
<li>
<p>Server sends back (on command channel) <em>PORT 1234</em> after starting to
    listen on that port.</p>
</li>
<li>
<p>Client opens up data channel from client 1050 to server port 1234.</p>
</li>
<li>
<p>Server acknowledges on data channel.</p>
</li>
</ul>
<h2 id="enabling-connections-through-a-firewall">Enabling connections through a firewall<a class="headerlink" href="#enabling-connections-through-a-firewall" title="Permanent link">&para;</a></h2>
<p>To enable passive FTP connections when iptables is used, the
"ip_conntrack_ftp" module has to be loaded into the firewall and
connections with the state "related" have to be allowed.</p>
<h3 id="vsftpd">vsftpd<a class="headerlink" href="#vsftpd" title="Permanent link">&para;</a></h3>
<p>vsftpd (very secure FTP daemon) is a very popular, versatile, fast and
secure FTP server.</p>
<h4 id="example-minimal-configuration-for-anonymous-up-and-downloads">Example minimal configuration for anonymous up- and downloads<a class="headerlink" href="#example-minimal-configuration-for-anonymous-up-and-downloads" title="Permanent link">&para;</a></h4>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># If enabled, vsftpd will run in standalone mode. This means  that</span>
<span class="c1"># vsftpd  must not be run from an inetd of some kind. Instead, the</span>
<span class="c1"># vsftpd executable is run once directly. vsftpd itself will  then</span>
<span class="c1"># take care of listening for and handling incoming connections.</span>
<span class="c1"># Default: NO</span>
<span class="n">listen</span><span class="o">=</span><span class="n">NO</span>

<span class="c1"># Controls whether local logins are permitted or not. If enabled,</span>
<span class="c1"># normal user accounts in /etc/passwd (or wherever your PAM config</span>
<span class="c1"># references) may be used to log in. This must be enable for any</span>
<span class="c1"># non-anonymous login to work, including virtual users.</span>
<span class="c1"># Default: NO</span>
<span class="n">local_enable</span><span class="o">=</span><span class="n">YES</span>

<span class="c1"># This controls whether any FTP commands which change the filesystem</span>
<span class="c1"># are  allowed  or not. These commands are: STOR, DELE, RNFR,</span>
<span class="c1"># RNTO, MKD, RMD, APPE and SITE.</span>
<span class="c1"># Default: NO</span>
<span class="n">write_enable</span><span class="o">=</span><span class="n">YES</span>

<span class="c1"># Controls  whether  anonymous  logins  are  permitted  or not. If</span>
<span class="c1"># enabled, both the usernames ftp and anonymous are recognised  as</span>
<span class="c1"># anonymous logins.</span>
<span class="c1"># Default: YES</span>
<span class="n">anonymous_enable</span><span class="o">=</span><span class="n">YES</span>

<span class="c1"># This option represents a directory  which  vsftpd  will  try  to</span>
<span class="c1"># change  into  after  an  anonymous  login.  Failure  is silently</span>
<span class="c1"># ignored.</span>
<span class="c1"># Default: (none)</span>
<span class="n">anon_root</span><span class="o">=/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span>

<span class="c1"># If set to YES, anonymous users will be permitted to upload files</span>
<span class="c1"># under  certain  conditions.  For  this  to  work,   the   option</span>
<span class="c1"># write_enable  must be activated, and the anonymous ftp user must</span>
<span class="c1"># have write permission on desired upload locations. This  setting</span>
<span class="c1"># is  also  required for virtual users to upload; by default, virtual </span>
<span class="c1"># users  are  treated   with   anonymous   (i.e.   maximally restricted) privilege.</span>
<span class="c1"># Default: NO</span>
<span class="n">anon_upload_enable</span><span class="o">=</span><span class="n">YES</span>

<span class="c1"># When  enabled,  anonymous users will only be allowed to download</span>
<span class="c1"># files which are world readable. This is recognising that the ftp</span>
<span class="c1"># user may own files, especially in the presence of uploads.</span>
<span class="c1"># Default: YES</span>
<span class="n">anon_world_readable_only</span><span class="o">=</span><span class="n">NO</span>
</code></pre></div></td></tr></table></div>

<p>Create the ftp user:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">useradd</span><span class="w"> </span><span class="o">--</span><span class="n">home</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="w"> </span><span class="o">--</span><span class="n">shell</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="bp">false</span><span class="w"> </span><span class="n">ftp</span>
</code></pre></div></td></tr></table></div>

<p>Create the FTP directory:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">--</span><span class="n">mode</span><span class="w"> </span><span class="mi">733</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">incoming</span>
</code></pre></div></td></tr></table></div>

<p>Set up inetd to listen for FTP traffic and start vsftpd. Add the
following line to <code>/etc/inetd.conf</code>:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    ftp   stream    tcp   nowait   root   /usr/sbin/tcpd   /usr/sbin/vsftpd
</code></pre></div></td></tr></table></div>

<p>Reload the inetd daemon.</p>
<p>An online HTML version of the manual page which lists all vsftpd config
options can be found at: <a href="http://vsftpd.beasts.org/vsftpd_conf.html">Manpage of
vsftpd.conf</a>.</p>
<p>When anonymous users should only be allowed to upload files, e.g., for
sending files for analysis to remote support, make sure this directory
is read-writable by the owner, root, and writeable but not readable by
group members and others. This allows the anonymous user to write into
the incoming directory but not to change it.</p>
<h3 id="pure-ftpd">Pure-FTPd<a class="headerlink" href="#pure-ftpd" title="Permanent link">&para;</a></h3>
<p>Pure-FTPd is a highly flexible, secure and fast FTP server.</p>
<h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h4>
<p>Unlike many daemons, Pure-FTPd doesn't read any configuration file
(except for LDAP and SQL when used). Instead, it uses command-line
options. For convenience a wrapper is provided which reads a
configuration file and starts Pure-FTPd with the right command-line
options.</p>
<p>pure-ftpd Specific configuration options of <code>pure-ftpd</code> can be found at:
<a href="http://download.pureftpd.org/pub/pure-ftpd/doc/README">Pure-FTPd Configuration
file</a>.</p>
<h4 id="important-command-line-options">Important command line options<a class="headerlink" href="#important-command-line-options" title="Permanent link">&para;</a></h4>
<p>pure-ftpd If you want to listen for an incoming connection on a
non-standard port, just append <code>-S</code> and the port number:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    /usr/local/sbin/pure-ftpd -S 42
</code></pre></div></td></tr></table></div>

<p>If your system has many IP addresses and you want the FTP server to be
reachable on only one of these addresses, let's say 192.168.0.42, just
use the following command:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    /usr/local/sbin/pure-ftpd -S 192.168.0.42,21
</code></pre></div></td></tr></table></div>

<p><strong>Note</strong></p>
<p>The 21 port number could be left away since this is the default port.</p>
<p>To limit the number of simultaneous connections use the <code>-c</code> option:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    /usr/local/sbin/pure-ftpd -c 50 &amp;
</code></pre></div></td></tr></table></div>

<h4 id="example-minimal-configuration-for-anonymous-up-and-downloads_1">Example minimal configuration for anonymous up- and downloads<a class="headerlink" href="#example-minimal-configuration-for-anonymous-up-and-downloads_1" title="Permanent link">&para;</a></h4>
<p>Create the ftp user:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">useradd</span><span class="w"> </span><span class="o">--</span><span class="n">home</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="w"> </span><span class="o">--</span><span class="n">shell</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="bp">false</span><span class="w"> </span><span class="n">ftp</span>
</code></pre></div></td></tr></table></div>

<p>Create the ftp directory structure with the correct permissions:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="c1"># Set the proper permissions to disable writing</span>
<span class="w">    </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">--</span><span class="n">mode</span><span class="w"> </span><span class="mi">555</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span>
<span class="w">    </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">--</span><span class="n">mode</span><span class="w"> </span><span class="mi">555</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span>
<span class="w">    </span><span class="c1"># Set the proper permissions to enable writing</span>
<span class="w">    </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">--</span><span class="n">mode</span><span class="w"> </span><span class="mi">755</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">incoming</span>
</code></pre></div></td></tr></table></div>

<p>Change ownership:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">chown</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="n">ftp</span><span class="p">:</span><span class="n">ftp</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span>

<span class="w">    </span><span class="mi">192552</span><span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="n">dr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w">   </span><span class="mi">3</span><span class="w"> </span><span class="n">ftp</span><span class="w">      </span><span class="n">ftp</span><span class="w">            </span><span class="mi">16</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span>
<span class="w">    </span><span class="mi">192588</span><span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="n">dr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w">   </span><span class="mi">3</span><span class="w"> </span><span class="n">ftp</span><span class="w">      </span><span class="n">ftp</span><span class="w">             </span><span class="mi">8</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">07</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span>
<span class="w">    </span><span class="mi">192589</span><span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">ftp</span><span class="w">      </span><span class="n">ftp</span><span class="w">             </span><span class="mi">8</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">55</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">incoming</span>
</code></pre></div></td></tr></table></div>

<p>Set up inetd to listen for FTP traffic and start <code>pure-ftpd</code>. Add the
following line to <code>/etc/inetd.conf</code>:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    ftp   stream   tcp   nowait   root   /usr/sbin/tcpd   /usr/sbin/pure-ftpd -e
</code></pre></div></td></tr></table></div>

<p>Reload the inetd daemon:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    killall -HUP inetd
</code></pre></div></td></tr></table></div>

<p>or</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">kill</span><span class="w"> </span><span class="o">-</span><span class="n">HUP</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">cat</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">inetd</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

<h3 id="other-ftp-servers">Other FTP servers<a class="headerlink" href="#other-ftp-servers" title="Permanent link">&para;</a></h3>
<p>There are numerous FTP servers available and in use on Linux systems.
Some alternatives to the servers mentioned above are: wu-ftpd and
ProFTPd.</p>
<h4 id="proftpd">ProFTPd<a class="headerlink" href="#proftpd" title="Permanent link">&para;</a></h4>
<p>ProFTPd - Professional configurable, secure file transfer protocol
server.</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>SYNOPSIS
    proftpd [ -hlntv ] [ -c config-file ] [ -d debuglevel ] [ -p 0|1 ]
</code></pre></div></td></tr></table></div>

<p><code>proftpd</code> is the Professional File Transfer Protocol (FTP) server
daemon. The server may be invoked by the Internet "super-server"
<code>inetd(8)</code> each time a connection to the FTP service is made, or
alternatively it can be run as a standalone daemon.</p>
<p>When <code>proftpd</code> is run in standalone mode and it receives a SIGHUP then
it will reread its configuration file. When run in standalone mode
without the -n option, the main <code>proftpd</code> daemon writes its process ID
to <code>/var/run/run/proftpd.pid</code> to make it easy to know which process to
SIGHUP.</p>
<p>See the man page of <code>proftpd</code> for detailed information on this ftp
server. Detailed information can be found at: <a href="http://www.proftpd.org/">The ProFTPd
Project</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 1997-2021 Sue B.V., The Netherlands - Open Sourced 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "tabs", "instant"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>