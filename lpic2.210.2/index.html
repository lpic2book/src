
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Sue B.V., The Netherlands">
      
      
      
        <link rel="prev" href="../lpic2.210.1/">
      
      
        <link rel="next" href="../lpic2.210.3/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>PAM authentication (210.2) - The LPIC2 Exam Prep</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CAnonymous+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito";--md-code-font:"Anonymous Pro"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pam-authentication-2102" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The LPIC2 Exam Prep" class="md-header__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The LPIC2 Exam Prep
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PAM authentication (210.2)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The LPIC2 Exam Prep" class="md-nav__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    The LPIC2 Exam Prep
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The LPIC2 Exam Prep
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpicbook_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About this book
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    200 Capacity Planning (200)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Measure and Troubleshoot Resource Usage (200.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predict Future Resource Needs (200.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux Kernel (201)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel Components (201.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiling a Linux kernel (201.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kernel runtime management and troubleshooting (201.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Startup (202)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customizing system startup (202.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System recovery (202.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternate Bootloaders (202.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filesystem and Devices (203)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operating The Linux Filesystem (203.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintaining a Linux Filesystem (203.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating And Configuring Filesystem Options (203.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Storage Device Administration (204)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring RAID (204.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adjusting Storage Device Access (204.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logical Volume Manager (204.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring PCMCIA Devices (204.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Networking Configuration (205)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Networking Configuration (205.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Network Configuration and Troubleshooting (205.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting network issues (205.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Maintenance (206)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make and install programs from source (206.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup Operations (206.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notifying users on system-related issues (206.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain Name Server (207)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic DNS server configuration (207.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create and maintain DNS zones (207.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Securing a DNS Server (207.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Services (208)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Apache Configuration (208.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apache configuration for HTTPS (208.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Squid as a caching proxy (208.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementing Nginx as a web server and a reverse proxy (208.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Sharing (209)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SAMBA Server Configuration (209.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an NFS Server (209.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Client Management (210)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DHCP Configuration (210.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    PAM authentication (210.2)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    PAM authentication (210.2)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pam-authentication-2102" class="md-nav__link">
    <span class="md-ellipsis">
      PAM authentication (210.2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PAM authentication (210.2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-pam" class="md-nav__link">
    <span class="md-ellipsis">
      What is PAM?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What is PAM?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-it-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does it work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_unix" class="md-nav__link">
    <span class="md-ellipsis">
      pam_unix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_nis" class="md-nav__link">
    <span class="md-ellipsis">
      pam_nis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_ldap" class="md-nav__link">
    <span class="md-ellipsis">
      pam_ldap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_cracklib" class="md-nav__link">
    <span class="md-ellipsis">
      pam_cracklib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_limits" class="md-nav__link">
    <span class="md-ellipsis">
      pam_limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_listfile" class="md-nav__link">
    <span class="md-ellipsis">
      pam_listfile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sssd" class="md-nav__link">
    <span class="md-ellipsis">
      SSSD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP client usage (210.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring an OpenLDAP server (210.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    E-Mail services (211)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using e-mail servers (211.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing E-Mail Delivery (211.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing Mailbox Access (211.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Security (212)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring a router (212.1)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing FTP servers (212.2)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secure shell (SSH) (212.3)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security tasks (212.4)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenVPN (212.5)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pam-authentication-2102" class="md-nav__link">
    <span class="md-ellipsis">
      PAM authentication (210.2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PAM authentication (210.2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      Key Knowledge Areas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Terms and Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-pam" class="md-nav__link">
    <span class="md-ellipsis">
      What is PAM?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What is PAM?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-it-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does it work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_unix" class="md-nav__link">
    <span class="md-ellipsis">
      pam_unix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_nis" class="md-nav__link">
    <span class="md-ellipsis">
      pam_nis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_ldap" class="md-nav__link">
    <span class="md-ellipsis">
      pam_ldap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_cracklib" class="md-nav__link">
    <span class="md-ellipsis">
      pam_cracklib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_limits" class="md-nav__link">
    <span class="md-ellipsis">
      pam_limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam_listfile" class="md-nav__link">
    <span class="md-ellipsis">
      pam_listfile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sssd" class="md-nav__link">
    <span class="md-ellipsis">
      SSSD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>PAM authentication (210.2)</h1>

<h2 id="pam-authentication-2102">PAM authentication (210.2)<a class="headerlink" href="#pam-authentication-2102" title="Permanent link">&para;</a></h2>
<p>The candidate should be able to configure PAM to support authentication
using various available methods.</p>
<h3 id="key-knowledge-areas">Key Knowledge Areas<a class="headerlink" href="#key-knowledge-areas" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>PAM configuration files, terms and utilities</p>
</li>
<li>
<p>passwd and shadow passwords</p>
</li>
<li>
<p>basic SSSD functionality for LDAP authentication</p>
</li>
</ul>
<h3 id="terms-and-utilities">Terms and Utilities<a class="headerlink" href="#terms-and-utilities" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>/etc/pam.d</code></p>
</li>
<li>
<p><code>pam.conf</code></p>
</li>
<li>
<p><code>nsswitch.conf</code></p>
</li>
<li>
<p><code>pam_unix, pam_cracklib, pam_limits, pam_listfile</code></p>
</li>
</ul>
<h2 id="what-is-pam">What is PAM?<a class="headerlink" href="#what-is-pam" title="Permanent link">&para;</a></h2>
<p>PAM is the acronym for Pluggable Authentication Modules. PAM consists of
a set of libraries and an API (Application Programming Interface) that
can be used to perform authentication tasks. Privilege granting
programs, such as <code>login</code> and <code>su</code>, use the API to perform standard
authentication tasks.</p>
<h3 id="how-does-it-work">How does it work?<a class="headerlink" href="#how-does-it-work" title="Permanent link">&para;</a></h3>
<p>account</p>
<ul>
<li>Provide account verification types of service: has the user's
    password expired? Is this user permitted access to the requested
    service?</li>
</ul>
<p>authentication</p>
<ul>
<li>Establish if the user really is whom he claims to be. This can be
    done, for example, by asking a password or, given the right module,
    by reading a chip-card or by performing a retinal or fingerprint
    scan.</li>
</ul>
<p>password</p>
<ul>
<li>This group's responsibility is the task of updating authentication
    mechanisms. Typically, such services are strongly coupled to those
    of the authentication group. Some authentication mechanisms lend
    themselves well to being updated. The user might be presented with a
    question like "Please enter the new password".</li>
</ul>
<p>session</p>
<ul>
<li>This group of tasks covers things that should be done prior to a
    service being offered and after it is withdrawn. Such tasks include
    the maintenance of audit trails and the mounting of the user's home
    directory. The session management group is important as it provides
    both an opening and closing hook for modules that affect the
    services available to a user.</li>
</ul>
<p>PAM can be configured using the file <code>/etc/pam.conf</code> which has the following format:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="nx">service</span><span class="w">   </span><span class="k">type</span><span class="w">   </span><span class="nx">control</span><span class="w">   </span><span class="nx">module</span><span class="o">-</span><span class="nx">path</span><span class="w">   </span><span class="nx">module</span><span class="o">-</span><span class="nx">arguments</span>
</code></pre></div></td></tr></table></div>

<p>service</p>
<ul>
<li>This is the name of the application involved, for example: <code>login</code>, <code>ssh</code> or <code>passwd</code>.</li>
</ul>
<p>type</p>
<ul>
<li>This is the type of group the task to be performed belongs to:
    account, auth (the authentication group), password or session.</li>
</ul>
<p>control</p>
<ul>
<li>
<p>This field indicates what the PAM-API should do in case
    authentication fails for any module.</p>
<p>re-quisite</p>
<ul>
<li>Upon failure, the authentication process will be
    terminated immediately.</li>
</ul>
<p>required</p>
<ul>
<li>This will return failure after the remaining modules
    for this service and type have been invoked.</li>
</ul>
<p>sufficient</p>
<ul>
<li>Upon success, the authentication process will be
    satisfied, unless a prior required module has failed the
    authentication.</li>
</ul>
<p>optional</p>
<ul>
<li>The success or failure of this module is only important
    if this is the only module associated with this
    service and this type.</li>
</ul>
</li>
</ul>
<p>module-path</p>
<ul>
<li>This is the filename, including the full path, of the PAM that is to
    be used by the application.</li>
</ul>
<p>module-arguments</p>
<ul>
<li>These are module specific arguments, separated by spaces, that are
    to be passed to the module. Refer to the specific module's
    documentation for further details.</li>
</ul>
<p>Configuration is also possible using individual configuration files,
which is recommended. These files should all be located in the
<code>/etc/pam.d</code> directory. If this directory exists, the file
<code>/etc/pam.conf</code> will be ignored. The filenames should all be lowercase
and be identical to the name of the service, such as <code>login</code>. The format
of these files is identical to <code>/etc/pam.conf</code> with the exception that
there is no service field.</p>
<p>Modules</p>
<h3 id="pam_unix">pam_unix<a class="headerlink" href="#pam_unix" title="Permanent link">&para;</a></h3>
<p>This module configures authentication via <code>/etc/passwd</code> and
<code>/etc/shadow</code>.</p>
<p>account</p>
<ul>
<li>
<p>The type "account" does not authenticate the user but checks
    other things such as the expiration date of the password
    and might force the user to change his password based on the
    contents of the files <code>/etc/passwd</code> and <code>/etc/shadow</code>.</p>
<p>debug</p>
<ul>
<li>Log information using <code>syslog</code>.</li>
</ul>
<p>audit</p>
<ul>
<li>Also logs information, even more than debug does.</li>
</ul>
</li>
</ul>
<p>auth</p>
<ul>
<li>
<p>The type "auth" checks the user's password against the password
    database(s). This component is configured in the file
    <code>/etc/nsswitch.conf</code>. Please consult the man page
    (<code>man nsswitch.conf</code>) for further details.</p>
<p>audit</p>
<ul>
<li>Log information using <code>syslog</code>.</li>
</ul>
<p>debug</p>
<ul>
<li>Also logs information using <code>syslog</code> but less than audit.</li>
</ul>
<p>nodelay</p>
<ul>
<li>This argument sets the delay-on-failure, which has a default of
    a second, to nodelay.</li>
</ul>
<p>nullok</p>
<ul>
<li>Allows empty passwords. Normally authentication fails if
    the password is blank.</li>
</ul>
<p>try_first_pass</p>
<ul>
<li>Use the password from the previous stacked auth module and
    prompt for a new password if the retrieved
    password is blank or incorrect.</li>
</ul>
<p>use_first_pass</p>
<ul>
<li>Use the result from the previous stacked auth module, never 
    prompt the user for a password and fails if the
    result was a fail.</li>
</ul>
</li>
</ul>
<p>password</p>
<ul>
<li>
<p>The type "password" changes the user's password. PAM password</p>
<p>audit</p>
<ul>
<li>Log information using <code>syslog</code>.</li>
</ul>
<p>bigcrypt</p>
<ul>
<li>Use the DEC "C2" extension to crypt().</li>
</ul>
<p>debug</p>
<ul>
<li>Also logs information using <code>syslog</code> but less than audit.</li>
</ul>
<p>md5</p>
<ul>
<li>Use md5 encryption instead of crypt().</li>
</ul>
<p>nis</p>
<ul>
<li>Use NIS (Network Information Service) passwords.</li>
</ul>
<p>not_set_pass</p>
<ul>
<li>Don't use the passwords from other stacked modules and do not
    give the new password to other stacked modules.</li>
</ul>
<p>nullok</p>
<ul>
<li>Allows empty passwords. Normally authentication fails if the
    password is blank.</li>
</ul>
<p>remember</p>
<ul>
<li>Remember the last n passwords to prevent the user from using one
    of the last n passwords again.</li>
</ul>
<p>try_first_pass</p>
<ul>
<li>Use the password from the previous stacked auth module, and
    prompt for a new password if the retrieved password is blank or
    incorrect.</li>
</ul>
<p>use_authtok</p>
<ul>
<li>Set the new password to the one provided by a previous module.</li>
</ul>
<p>use_first_pass</p>
<ul>
<li>Use the result from the previous stacked auth module, never
    prompt the user for a password and fails if the result was a
    fail.</li>
</ul>
</li>
</ul>
<p>session</p>
<ul>
<li>
<p>The type "session" uses syslog to log the user's name and session
    type at the start and end of a session.</p>
<p>The "session" type does not support any options.</p>
</li>
</ul>
<p>For each service that requires authentication a file with the name of
that service must be created in <code>/etc/pam.d</code>. Examples of those services
are: <code>login</code>, <code>ssh</code>, <code>ppp</code>, <code>su</code>.</p>
<p>For example purposes the file <code>/etc/pam.d/login</code> will be used:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">Perform</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="nx">authentication</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">allow</span><span class="w"> </span><span class="nx">accounts</span><span class="w"> </span><span class="nx">without</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">password</span>
<span class="w">    </span><span class="nx">auth</span><span class="w">       </span><span class="nx">required</span><span class="w">   </span><span class="nx">pam_unix</span><span class="p">.</span><span class="nx">so</span><span class="w"> </span><span class="nx">nullok</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">Check</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="nx">validity</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">continue</span><span class="w"> </span><span class="nx">processing</span><span class="w"> </span><span class="nx">other</span><span class="w"> </span><span class="nx">PAM</span><span class="err">&#39;</span><span class="nx">s</span><span class="w"> </span><span class="nx">even</span><span class="w"> </span><span class="k">if</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">this</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nx">fails</span><span class="p">.</span><span class="w"> </span><span class="nx">Access</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">only</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">granted</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">sufficient</span><span class="err">&#39;</span><span class="w"> </span><span class="nx">PAM</span><span class="p">,</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">follows</span><span class="w"> </span><span class="nx">this</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">required</span><span class="err">&#39;</span><span class="w"> </span><span class="nx">one</span><span class="p">,</span><span class="w"> </span><span class="nx">succeeds</span><span class="p">.</span>
<span class="w">    </span><span class="nx">account</span><span class="w">    </span><span class="nx">required</span><span class="w">   </span><span class="nx">pam_unix</span><span class="p">.</span><span class="nx">so</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">Log</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">session</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">syslog</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="nx">both</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">start</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">end</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">session</span><span class="p">.</span>
<span class="w">    </span><span class="nx">session</span><span class="w">    </span><span class="nx">required</span><span class="w">   </span><span class="nx">pam_unix</span><span class="p">.</span><span class="nx">so</span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">Allow</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="nx">empty</span><span class="w"> </span><span class="nx">passwords</span><span class="w"> </span><span class="p">(</span><span class="nx">nullok</span><span class="p">),</span><span class="w"> </span><span class="nx">perform</span><span class="w"> </span><span class="nx">some</span><span class="w"> </span><span class="nx">additional</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">checks</span><span class="w"> </span><span class="p">(</span><span class="nx">obscure</span><span class="p">)</span><span class="w"> </span><span class="nx">before</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">accepted</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">enforce</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">a</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">minimum</span><span class="w"> </span><span class="p">(</span><span class="nx">min</span><span class="p">=</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="nx">length</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">maximum</span><span class="w"> </span><span class="p">(</span><span class="nx">max</span><span class="p">=</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="nx">length</span><span class="w"> </span><span class="nx">of</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="nx">characters</span><span class="p">.</span>
<span class="w">    </span><span class="nx">password</span><span class="w">   </span><span class="nx">required</span><span class="w">   </span><span class="nx">pam_unix</span><span class="p">.</span><span class="nx">so</span><span class="w"> </span><span class="nx">nullok</span><span class="w"> </span><span class="nx">obscure</span><span class="w"> </span><span class="nx">min</span><span class="p">=</span><span class="mi">4</span><span class="w"> </span><span class="nx">max</span><span class="p">=</span><span class="mi">8</span>
</code></pre></div></td></tr></table></div>

<h3 id="pam_nis">pam_nis<a class="headerlink" href="#pam_nis" title="Permanent link">&para;</a></h3>
<p>This module configures authentication via NIS. ConfiguringNIS
Authentication To be able to authenticate via NIS, the module
<code>pam_nis.so</code> is needed. This module can be found at <a href="http://www.chiark.greenend.org.uk/~peterb/uxsup/project/pam_nis/">PAM
NIS Authorisation
Module</a>.</p>
<p>To set up things in such a way that NIS authentication is sufficient
(and if that is not the case try <code>pam_unix.so</code>), the lines that do the
trick in <code>/etc/pam.d/login</code> are:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>    auth    sufficient pam_nis.so item=user \
    sense=allow map=users.byname value=compsci
    auth    required   pam_unix.so try_first_pass

    account sufficient pam_ldap.so \
    item=user sense=deny map=cancelled.byname error=expired
    account required   pam_unix.so
</code></pre></div></td></tr></table></div>

<h3 id="pam_ldap">pam_ldap<a class="headerlink" href="#pam_ldap" title="Permanent link">&para;</a></h3>
<p>This module configures authentication via LDAP. To be able to
authenticatie via LDAP, the module ConfiguringLDAP Authentication
<code>pam_ldap.so</code> is needed. This module can be found at <a href="http://www.padl.com/pam_ldap.html">PADL Software Pty
Ltd</a>.</p>
<p>To set up things in such a way that LDAP authentication is sufficient,
(and if that is not the case try <code>pam_unix.so</code>), the
lines that do the trick in <code>/etc/pam.d/login</code> are:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>    auth    sufficient pam_ldap.so
    auth    required   pam_unix.so try_first_pass

    account sufficient pam_ldap.so
    account required   pam_unix.so
</code></pre></div></td></tr></table></div>

<h3 id="pam_cracklib">pam_cracklib<a class="headerlink" href="#pam_cracklib" title="Permanent link">&para;</a></h3>
<p>This plugin provides strength-checking for passwords. This is done by
performing a number of checks to ensure passwords are not too weak. It
checks the password against dictonaries, the previous password(s) and
rules about the use of numbers, upper and lowercase and other
characters.</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>    #%PAM-1.0
    #
    # These lines allow a md5 systems to support passwords of at least 14
    # bytes with extra credit of 2 for digits and 2 for others the new
    # password must have at least three bytes that are not present in the
    # old password
    #
    password  required pam_cracklib.so \
    difok=3 minlen=15 dcredit= 2 ocredit=2
    password  required pam_unix.so use_authtok nullok md5
</code></pre></div></td></tr></table></div>

<h3 id="pam_limits">pam_limits<a class="headerlink" href="#pam_limits" title="Permanent link">&para;</a></h3>
<p>The pam_limits PAM module sets limits on the system resources that can
be obtained in a user-session. Users of uid=0 are affected by this
limits, too. By default limits are taken from the
<code>/etc/security/limits.conf</code> config file. Then individual files from the
<code>/etc/security/limits.d/</code> directory are read. The files are parsed one
after another in the order of \"C\" locale. The effect of the individual
files is the same as if all the files were concatenated together in the
order of parsing. If a config file is explicitely specified with a
module option then the files in the above directory are not parsed. The
module must not be called by a multithreaded application.</p>
<h3 id="pam_listfile">pam_listfile<a class="headerlink" href="#pam_listfile" title="Permanent link">&para;</a></h3>
<p>This module allows or denies an action based on the presence of the item
in a listfile. A listfile is a textfile containing a list of usernames,
one username per line. The type of item can be set via the configuration
parameter item and can have the value of user, tty, rhost, ruser, group,
or shell. The <em>sense</em> configuration parameter determines whether the
entries in the list are allowed. Possible values are allow and deny.</p>
<h3 id="sssd">SSSD<a class="headerlink" href="#sssd" title="Permanent link">&para;</a></h3>
<p>Configure SSSD for LDAP authentication</p>
<p>The following steps describe the configuration of SSSD to use LDAP for
authentication:</p>
<p>1. The following packages need to be installed:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code>    sssd-client
    sssd-common
    sssd-common-pac
    sssd-ldap
    sssd-proxy
    python-sssdconfig
    authconfig
    authconfig-gtk
</code></pre></div></td></tr></table></div>

<p>Use your package manager to install these packages.</p>
<p>2. Check the current settings for sssd, if any:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # authconfig --test
</code></pre></div></td></tr></table></div>

<p>This will show you the current settings which are already in place. Also
check for an existing <code>/etc/sssd/sssd.conf</code> file. On a fresh
installation you can expect all settings to be disabled and that the
sssd.conf file will not be present.</p>
<p>3. Now configure sssd:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>    # authconfig \
    --enablesssd \
    --enablesssdauth \
    --enablelocauthorize \
    --enableldap \
    --enableldapauth \
    --ldapserver=ldap://ldap.example.com:389 \
    --disableldaptls \
    --ldapbasedn=dc=example,dc=com \
    --enablerfc2307bis \
    --enablemkhomedir \
    --enablecachecreds \
    --update
</code></pre></div></td></tr></table></div>

<p>4. Check the configuration in <code>/etc/sssd/sssd.conf</code>.</p>
<p>In case you're using TLS make sure that the <code>ldap_tls_cacertdir</code> and
<code>ldap_tls_cacert</code> parameters are configured correctly and point to your
certificates. Also change <code>ldap_id_use_start_tls</code> to "True".</p>
<p>To effect the changes, run:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # systemctl restart sssd
</code></pre></div></td></tr></table></div>

<p>Verify that all changes are effective by running:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # authconfig test
</code></pre></div></td></tr></table></div>

<p>5. Update <code>/etc/openldap/ldap.conf</code> to use the same ldap settings. Your
<code>ldap.conf</code> file will look like this:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>    SASL_NOCANON on
    URI ldaps://ldap.example.com:389
    BASE dc=example,dc=com
    TLS_REQUIRE never
    TLS_CACERTDIR /etc/pki/tls/cacerts
    TLS_CACERT /etc/pki/tls/certs/mybundle.pem
</code></pre></div></td></tr></table></div>

<p>Please note that <code>TLS_REQUIRE</code> is set to never. This is done in order to
avoid issues with application stacks like <code>PHP</code>, which have difficulties
with <code>LDAPS</code> and <code>TLS</code>.</p>
<p>6. Make sure that sssd is up and running and that it will be started
after a system reboot. Run <code>systemctl status sssd</code> to check this. To
start sssd, run <code>systemctl start sssd</code> and to make sssd persistent
across reboots, run <code>systemctl enable sssd</code>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 1997-2021 Sue B.V., The Netherlands - Open Sourced 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "tabs", "instant"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>