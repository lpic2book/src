
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Sue B.V., The Netherlands">
      
      
      
        <link rel="prev" href="../lpic2.204.2/">
      
      
        <link rel="next" href="../lpic2.204.4/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Logical Volume Manager (204.3) - The LPIC2 Exam Prep</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CAnonymous+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito";--md-code-font:"Anonymous Pro"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logical-volume-manager-2043" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The LPIC2 Exam Prep" class="md-header__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The LPIC2 Exam Prep
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Logical Volume Manager (204.3)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The LPIC2 Exam Prep" class="md-nav__button md-logo" aria-label="The LPIC2 Exam Prep" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>

    </a>
    The LPIC2 Exam Prep
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lpic2book/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    LPIC2Book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The LPIC2 Exam Prep
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpicbook_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About this book
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    200 Capacity Planning (200)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Measure and Troubleshoot Resource Usage (200.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.200.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Predict Future Resource Needs (200.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Kernel (201)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kernel Components (201.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compiling a Linux kernel (201.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.201.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kernel runtime management and troubleshooting (201.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Startup (202)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customizing system startup (202.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System recovery (202.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.202.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alternate Bootloaders (202.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filesystem and Devices (203)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operating The Linux Filesystem (203.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Maintaining a Linux Filesystem (203.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.203.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating And Configuring Filesystem Options (203.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Storage Device Administration (204)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring RAID (204.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adjusting Storage Device Access (204.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Logical Volume Manager (204.3)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Logical Volume Manager (204.3)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logical-volume-manager-2043" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logical Volume Manager (204.3)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logical Volume Manager (204.3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Knowledge Areas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Terms and Utilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-logical-volume-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Logical Volume Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Logical Volume Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-physical-media-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        The physical media / partitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-logical-volumes-volume-groups-and-physical-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modifying logical volumes, volume groups and physical volumes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lvm-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        LVM Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lvm-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        LVM commands
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device mapper
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Device mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lvmconf" class="md-nav__link">
    <span class="md-ellipsis">
      
        lvm.conf
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.204.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring PCMCIA Devices (204.4)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking Configuration (205)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Networking Configuration (205.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Network Configuration and Troubleshooting (205.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.205.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting network issues (205.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Maintenance (206)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Make and install programs from source (206.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup Operations (206.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.206.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notifying users on system-related issues (206.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Name Server (207)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic DNS server configuration (207.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create and maintain DNS zones (207.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.207.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Securing a DNS Server (207.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP Services (208)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Apache Configuration (208.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apache configuration for HTTPS (208.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementing Squid as a caching proxy (208.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.208.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementing Nginx as a web server and a reverse proxy (208.4)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File Sharing (209)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SAMBA Server Configuration (209.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.209.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring an NFS Server (209.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Client Management (210)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DHCP Configuration (210.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PAM authentication (210.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LDAP client usage (210.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.210.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring an OpenLDAP server (210.4)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    E-Mail services (211)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using e-mail servers (211.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing E-Mail Delivery (211.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.211.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing Mailbox Access (211.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Security (212)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring a router (212.1)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing FTP servers (212.2)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Secure shell (SSH) (212.3)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security tasks (212.4)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpic2.212.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenVPN (212.5)
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logical-volume-manager-2043" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logical Volume Manager (204.3)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logical Volume Manager (204.3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-knowledge-areas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Knowledge Areas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terms-and-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Terms and Utilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-logical-volume-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Logical Volume Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Logical Volume Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-physical-media-partitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        The physical media / partitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-logical-volumes-volume-groups-and-physical-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modifying logical volumes, volume groups and physical volumes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lvm-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        LVM Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lvm-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        LVM commands
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device mapper
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Device mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lvmconf" class="md-nav__link">
    <span class="md-ellipsis">
      
        lvm.conf
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Logical Volume Manager (204.3)</h1>

<h2 id="logical-volume-manager-2043">Logical Volume Manager (204.3)<a class="headerlink" href="#logical-volume-manager-2043" title="Permanent link">&para;</a></h2>
<p>Candidates should be able to create and remove logical volumes, volume
groups, and physical volumes. This objective includes snapshots and
resizing logical volumes.</p>
<h3 id="key-knowledge-areas">Key Knowledge Areas<a class="headerlink" href="#key-knowledge-areas" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Tools in the LVM suite</p>
</li>
<li>
<p>Resizing, renaming, creating, and removing logical volumes, volume
    groups, and physical volumes</p>
</li>
<li>
<p>Creating and maintaining snapshots</p>
</li>
<li>
<p>Activating volume groups</p>
</li>
</ul>
<h3 id="terms-and-utilities">Terms and Utilities<a class="headerlink" href="#terms-and-utilities" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>/sbin/pv*</code></p>
</li>
<li>
<p><code>/sbin/vg*</code></p>
</li>
<li>
<p><code>/sbin/lv*</code></p>
</li>
<li>
<p><code>mount</code></p>
</li>
<li>
<p><code>/dev/mapper</code></p>
</li>
<li>
<p><code>lvm.conf</code></p>
</li>
</ul>
<h3 id="configuring-logical-volume-management">Configuring Logical Volume Management<a class="headerlink" href="#configuring-logical-volume-management" title="Permanent link">&para;</a></h3>
<p><code>lvm</code> is a logical volume manager for Linux. It enables you to
concatenate several physical volumes (hard disks etc.) to so-called
<em>volume groups</em>, forming a storage pool, much like a virtual disk. IDE
and SCSI disks, as well as multiple devices (MD) are supported.</p>
<p>In the figure below, the concepts and terminology used by <code>lvm</code> are
sketched. On the right side the names of the commands are shown that can
be used to create and/or manipulate the layer sketched on the left.</p>
<p><img alt="" src="../images/204-LVM.dot.svg.jpg" /></p>
<h4 id="the-physical-media-partitions">The physical media / partitions<a class="headerlink" href="#the-physical-media-partitions" title="Permanent link">&para;</a></h4>
<ul>
<li>fdisk a hard disk, or a partition, e.g. <code>/dev/hda</code>, <code>/dev/hda6</code> or
    <code>/dev/sda</code>. You should set the partition types of the disk or
    partition to <code>0x8e</code>, which is "Linux LVM". Partitioning is done
    using <code>fdisk</code>. Please note that your version of <code>fdisk</code> may not yet
    know this type, so it will be listed as "Unknown". You can turn any
    consecutive number of blocks on a block device into a <em>Physical
    Volume</em>:</li>
</ul>
<p>Physical Volume (PV)</p>
<ul>
<li>Physical Volume a physical medium with some administrative data
    added to it. The command <code>pvcreate</code> can be used to add the
    administration onto the physical medium. The command <code>vgcreate</code> is
    used to create a volume group, which consists of one or more PV's.
    A PV that has been grouped in a volume group contains <em>Physical
    Extents</em>:</li>
</ul>
<p>Physical Extents (PE)</p>
<ul>
<li>Physical Extents Physical Extents are blocks of diskspace, often
    several megabytes in size. Using the command <code>lvcreate</code> you can
    assign PEs to a <em>Logical Volume</em>:</li>
</ul>
<p>Logical Volume (LV)</p>
<ul>
<li>Logical Volume A Logical Volume. On a logical volume we can use the
    command <code>mkfs</code> to get a <em>Filesystem</em>:</li>
</ul>
<p>Filesystem</p>
<ul>
<li><code>ext2</code>, <code>ReiserFS</code>, <code>NWFS</code>, <code>XFS</code>, <code>JFX</code>, <code>NTFS</code> etc. mount To the
    linux kernel, there is no difference between a regular partition and
    a Logical Volume. A simple <code>mount</code> suffices to be able to use your
    logical volume.</li>
</ul>
<p>lvcreate lvol Some examples of typical usage of the LVM commandset
follow. Initially, you need to set the partition type for the partitions
to use to create logical volumes to <code>0x8e</code>. Let's assume we have
partitions <code>/dev/hda4</code> and <code>/dev/hda5</code>, and they are set to the correct
partitioning type. To create a physical volume on both partitions (i.e.
to set up the volume group descriptor) you type (being the superuser):
pvcreate</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # pvcreate /dev/hda4 /dev/hda5
</code></pre></div></td></tr></table></div>

<p>Now we have created two physical volumes. Next, we will create a volume
group. A volume group needs to have a name (we choose <code>volume01</code>). To
create our volume group, using our previously defined physical volumes,
type: vgcreate</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # vgcreate volume01 /dev/hda5 /dev/hda4
</code></pre></div></td></tr></table></div>

<p>The previous command line is the most basic form (refer to the manual
pages for a list of configurable parameters). This will create an array
of physical extents, by default they are 4 Mb in size. Using these
extents we can create one or more logical volumes, e.g:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # lvcreate -L 100M volume01
</code></pre></div></td></tr></table></div>

<p>This creates a logical volume with a default name choosen by
<code>lvcreate</code> and starts with the string <code>lvol</code> followed by a digit NDASH
let's assume <code>lvol0</code>. The logical volume will be created using the
volumegroup <code>volume01</code>. The name of the devicefile for this volume will
be <code>/dev/volume01/lvol0</code>. Next, we can make a filesystem on the
volumegroup, as usual, using <code>mkfs</code>, e.g. an <code>xfs</code> filesystem: mkfs
mount</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # mkfs -t xfs /dev/volume01/lvol0
</code></pre></div></td></tr></table></div>

<p>The resulting filesystem can be mounted as usual:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # mount /dev/volume01/lvol0 /mnt
</code></pre></div></td></tr></table></div>

<h4 id="modifying-logical-volumes-volume-groups-and-physical-volumes">Modifying logical volumes, volume groups and physical volumes<a class="headerlink" href="#modifying-logical-volumes-volume-groups-and-physical-volumes" title="Permanent link">&para;</a></h4>
<p>A logical volume can be modified in order to create more space for the
filesystem that is on top of this logical volume. Assuming that there is
enough space in the volume group a logical volume can be increased in
size with the command: lvextend</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # lvextend -L +50M /dev/volume01/lvol0
</code></pre></div></td></tr></table></div>

<p>After the logical volume has been increased the filesystem on top of the
logical volume still has the same size. To use the extra space of the
logical volume the filesystem needs to be resized. This can be done by
the command: xfs_grow</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # xfs_growfs /dev/volume01/lvol0
</code></pre></div></td></tr></table></div>

<p>For an ext2/ext3/ext4 file system use the command <code>resize2fs</code>. Note that
for resizing the filesystem it must not be mounted.</p>
<p>In the previous example it was assumed that there was enough free space
in the volume group. If this is not the case, extra disk space can be
added to the volume group in a similar way. To do so use the command:
vgextend</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # vgextend volume01 /dev/hda6
</code></pre></div></td></tr></table></div>

<p>First device hda6 has to be converted into a physical volume with the
command: pvcreate</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # pvcreate /dev/hda6
</code></pre></div></td></tr></table></div>

<h4 id="lvm-snapshots">LVM Snapshots<a class="headerlink" href="#lvm-snapshots" title="Permanent link">&para;</a></h4>
<p>snapshots One of the nicest features of LVM is the possibility of taking
snapshots of volumes. A snapshot is a virtual copy of the volume to
enable easy backups. LVM snapshots use a strategy called "copy on
write". This means that the snapshot logical volume only saves data
blocks from the original logical volume that are changed in the original
logical volume. To do so the logical volume manager first reads the
(unchanged) data block on the original and than writes the data block to
the snapshot. On filesystems with many changes (e.g. databases) this can
lead to performance issues.</p>
<p>The <code>-s</code> option in the <code>lvcreate</code> command specifies that the newly
created logical volume is a snapshot. lvcreate</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # lvcreate -L 50M -s -n snapshot0 /dev/volume01/lvol0
</code></pre></div></td></tr></table></div>

<p>This will create a logical volume <code>/dev/volume01/snapshot0</code>, which then
can be used, among others, for backup purposes. The advantage of the
snapshot is that the data is consistent, i.e. the data doesn't change
during backup.</p>
<p>After the backup is finished, the snapshot has to be removed otherwise
the performance issues mentioned earlier will start to come into play.
To remove the snapshot use: lvremove</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>    # lvremove /dev/volume01/snapshot0
</code></pre></div></td></tr></table></div>

<h4 id="lvm-commands">LVM commands<a class="headerlink" href="#lvm-commands" title="Permanent link">&para;</a></h4>
<p>This section gives an overview of most lvm related commands. The manual
pages describe the commands more in detail.</p>
<p><code>pvchange</code>
-   pvchange
    Change attributes of a physical volume</p>
<p><code>pvck</code>
-   pvck
    Check physical volume metadata</p>
<p><code>pvcreate</code>
-   pvcreate
    Initialize a disk or partition for use by LVM</p>
<p><code>pvdisplay</code>
-   pvdisplay
    Display attributes of a physical volume</p>
<p><code>pvmove</code>
-   pvmove
    Move physical extents</p>
<p><code>pvremove</code>
-   pvremove
    Remove a physical volume</p>
<p><code>pvs</code>
-   pvs
    Report information about physical volumes</p>
<p><code>pvscan</code>
-   pvscan
    Scan all disk for physical volumes</p>
<p><code>lvchange</code>
-   lvchange
    Change attributes for a logical volume</p>
<p><code>lvcreate</code>
-   lvcreate
    Create a logical volume in an existing volume group</p>
<p><code>lvdisplay</code>
-   lvdisplay
    Display attributes of a logical volumes</p>
<p><code>lvextend</code>
-   lvextend
    Extend the size of a logical volume</p>
<p><code>lvmdiskscan</code>
-   lvmdiskscan
    Scan for all devices visible to LVM2</p>
<p><code>lvreduce</code>
-   lvmreduce
    Reduce the size of a logical volume</p>
<p><code>lvremove</code>
-   lvmremove
    Remove a logical volume</p>
<p><code>lvrename</code>
-   lvmrename
    Rename a logical volume</p>
<p><code>lvresize</code>
-   lvmresize
    Resize a logical volume</p>
<p><code>lvs</code>
-   lvs
    Report information about logical volumes</p>
<p><code>lvscan</code>
-   lvscan
    Scan (all) disks for logical volumes</p>
<p><code>vgcfgbackup</code>
-   vgcfgbackup
    Backup volume group descriptor area</p>
<p><code>vgchange</code>
-   vgchange
    Change attributes of a volume group</p>
<p><code>vgck</code>
-   vgck
    Check volume group metadata</p>
<p><code>vgconvert</code>
-   vgconvert
    Convert volume group metadata</p>
<p><code>vgcreate</code>
-   vgcreate
    Create a volume group</p>
<p><code>vgdisplay</code>
-   vgdisplay
    Display attributes of volume groups</p>
<p><code>vgextend</code>
-   vgextend
    Add physical volumes to a volume group</p>
<p><code>vgexport</code>
-   vgexport
    Make volume groups unknown to the system</p>
<p><code>vgimport</code>
-   vgimport
    Make exported volume groups known to the system</p>
<p><code>vgmerge</code>
-   vgmerge
    Merge two volume groups</p>
<p><code>vgmknodes</code>
-   vgmknodes
    Recreate volume group directory and logical volume special files</p>
<p><code>vgreduce</code>
-   vgreduce
    Reduce a volume group</p>
<p><code>vgremove</code>
-   vgremove
    Remove a volume group</p>
<p><code>vgrename</code>
-   vgrename
    Rename a volume group</p>
<p><code>vgs</code>
-   vgs
    Report information about volume groups</p>
<p><code>vgscan</code>
-   vgscan
    Scan all disk for volume groups and rebuild caches</p>
<p><code>vgsplit</code>
-   vgsplit
    Split a volume group into two</p>
<h3 id="device-mapper">Device mapper<a class="headerlink" href="#device-mapper" title="Permanent link">&para;</a></h3>
<p>The device mapper is a kernel driver that provides a framework for
volume management. It provides a generic way of creating mapped devices,
which may be used as logical volumes. It does not specifically know
about volume groups or metadata formats.</p>
<p>LVM logical volumes are activated using the device mapper. Each logical
volume is translated into a mapped device. Each segment translates into
a line in the mapping table that describes the device. The device mapper
supports a variety of mapping targets, including linear mapping, striped
mapping, and error mapping.</p>
<h4 id="lvmconf">lvm.conf<a class="headerlink" href="#lvmconf" title="Permanent link">&para;</a></h4>
<p>At system startup <code>lvm.conf</code> configuration is loaded. The default
directory is <code>/etc/lvm</code>. But it can be set with the environment variable
LVM_SYSTEM_DIR. In the <code>lvm.conf</code> file you can specify additional
configuration to load. To display the current settings, you can execute
the lvm dumpconfig command.</p>
<p>vgscan pvs The <code>vgscan</code> command scans for block devices with lvm
metadata on it. These physical volumes are stored in the lvm cache. This
command uses the <code>lvm.conf</code> file to determine that. When for instance
you use multipath devices, the metadata is the same on all the disks, on
the different paths. Which will cause a lot of duplicates when you run
<code>pvs</code>. Also when you want to boot of a multipath device, it can boot of
a single path. You can use the filter option in the devices section for
this in the <code>lvm.conf</code>, to skip the other devices and only look for
multipath devices. The filter option uses regular expression to accept
or reject block devices, like in below examples. Add all discovered
devices:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>            filter = [ &quot;a/.*/&quot; ]
</code></pre></div></td></tr></table></div>

<p>Filter to remove cdrom devices:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>            filter = [ &quot;r|/dev/cdrom|&quot; ]
</code></pre></div></td></tr></table></div>

<p>Filter only device mapper names on a multipath device:</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>            filter = [ &quot;a|/dev/disk/by-id/dm-uuid-.*-mpath-.*|&quot;, &quot;r|.*|&quot; ]
</code></pre></div></td></tr></table></div>

<p>This filter just adds partition 8 on the first IDE Harddrive and removes
all other block devices.</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>            filter = [ &quot;a|^/dev/hda8$|&quot;, &quot;r/.*/&quot; ]
</code></pre></div></td></tr></table></div>

<p>Other usefull and commonly used option in the devices sections in the
<code>lvm.conf</code> are: preferred_names The earliest pattern is used in any
output like <code>pvs</code>. So in our example of multipath devices we want.</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">            </span><span class="n">preferred_names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n"> &quot;^/dev/mpath/&quot;, &quot;^/dev/mapper/mpath&quot;, &quot;^/dev/[hs</span><span class="o">]</span><span class="n">d</span><span class="err">&quot;</span><span class="w"> </span><span class="err">]</span>
</code></pre></div></td></tr></table></div>

<p>types If you boot from a local device and the rest are multipath
devices, you need to change the types option, next to the filter option
with this example. I tells LVM the acceptable block devices
(device-mapper) and the allowed partitions (253)</p>
<div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">            </span><span class="nx">types</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;device-mapper&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">253</span><span class="w"> </span><span class="p">]</span>
</code></pre></div></td></tr></table></div>

<p>For other sections with options check: <code>man lvm.conf</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 1997-2021 Sue B.V., The Netherlands - Open Sourced 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["search.highlight", "tabs", "instant"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>